{"ast":null,"code":"var _jsxFileName = \"/home/sadoffnick/Desktop/University_Labs-782d16d9e93f5f21f9b7569cd8b73d90f641c7f6/semester_6/Object-oriented_programming/Labs/Lab_1/FRONT/src/pages/AddElement/AddRoute.js\";\nimport React from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport * as API from \"../../API\";\nimport { confirmAlert } from 'react-confirm-alert'; // Import\n\nimport TimeTableForm from \"../../components/additional-components/TimeTableForm\";\nimport NavBar from \"../../components/nav-bar\";\nimport Loading from \"../../components/loading\";\nimport styles from \"../../styles/General.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class AddRoute extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.componentDidMount = () => {\n      this.isAdmin().then(result => {\n        this.setState({\n          adminChecked: true,\n          isAdmin: result[\"isAdmin\"]\n        });\n      });\n    };\n  }\n\n  async isAdmin() {\n    return await API.checkAdmin();\n  }\n\n  render() {\n    if (this.state === null || !this.state.adminChecked) {\n      return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this);\n    } else if (!this.state.isAdmin) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: '/'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 21\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(AddRouteInternal, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 20\n      }, this);\n    }\n  }\n\n}\n\nclass AddRouteInternal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.GetStops().then(stops => {\n        this.setState({\n          allStops: stops\n        }, function () {\n          console.log(\"ST: \" + this.state.startTime);\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      oldId: 0,\n      number: 0,\n      startTime: \"06:00\",\n      endTime: \"23:30\",\n      interval: 10,\n      type: 'Тролейбус',\n      timeTable: [],\n      stops: []\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.addStop = this.addStop.bind(this);\n    this.removeStop = this.removeStop.bind(this);\n    this.resetForm = this.resetForm.bind(this);\n    this.saveAndContinue = this.saveAndContinue.bind(this);\n    this.saveAndExit = this.saveAndExit.bind(this);\n    this.handleInputChangeArray = this.handleInputChangeArray.bind(this);\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleInputChangeArray(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n\n    if (name[0] === 's') {\n      let stops = this.state.stops;\n      let id = parseInt(name.substring(1));\n      stops[id] = value;\n      this.setState({\n        stops: stops\n      });\n    } else {\n      let timeTable = this.state.timeTable;\n      let id = parseInt(name.substring(1));\n      timeTable[id] = value;\n      this.setState({\n        timeTable: timeTable\n      });\n    }\n  }\n\n  resetValues(routes) {\n    let stopsNames = routes[0][\"stops\"];\n    let tt = [0].concat(routes[0][\"timetable\"]);\n    this.setState({\n      startTime: \"06:00\",\n      endTime: \"23:30\",\n      interval: 10,\n      type: 'Тролейбус',\n      stops: new Map(),\n      timeTable: tt,\n      returnToEditor: false\n    }, function () {\n      console.log(\"ST: \" + this.state.startTime);\n    });\n  }\n\n  async GetStops() {\n    return await API.getStops();\n  }\n\n  makeStopChoosing(id) {\n    let optionsList = [];\n    this.state.allStops.forEach(stop => {\n      if (stop['stop_name'] === this.state.stops[id]) {\n        optionsList.push( /*#__PURE__*/_jsxDEV(\"option\", {\n          selected: true,\n          value: stop['stop_name'],\n          children: stop['stop_name']\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 34\n        }, this));\n      } else {\n        optionsList.push( /*#__PURE__*/_jsxDEV(\"option\", {\n          value: stop['stop_name'],\n          children: stop['stop_name']\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 34\n        }, this));\n      }\n    });\n    return /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: this.handleInputChangeArray,\n      name: \"s\" + id,\n      value: this.state.stops[id],\n      children: optionsList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this);\n  }\n\n  makeTTChoosing(id) {\n    if (id === 0) {\n      return /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: this.handleInputChangeArray,\n        min: \"0\",\n        max: \"0\",\n        type: \"number\",\n        name: \"t\" + id,\n        value: this.state.timeTable[id]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: this.handleInputChangeArray,\n        min: \"0\",\n        type: \"number\",\n        name: \"t\" + id,\n        value: this.state.timeTable[id]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }, this);\n    }\n  }\n\n  displayStationsAndTT(stops, tt) {\n    let list = [];\n\n    for (let i = 0; i < stops.length; i++) {\n      list.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [this.makeStopChoosing(i), \" --- \", this.makeTTChoosing(i)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 23\n      }, this));\n    }\n\n    return list;\n  }\n\n  resetForm() {\n    console.log(\"Reset...\");\n    this.setState({\n      oldId: 0,\n      number: 0,\n      startTime: \"06:00\",\n      endTime: \"23:30\",\n      interval: 10,\n      type: 'Тролейбус',\n      timeTable: [],\n      stops: []\n    });\n  }\n\n  async saveChanges() {\n    let isAvailable = this.state.number > 0;\n\n    if (isAvailable) {\n      isAvailable = await API.checkAvailableRoute(this.state.number);\n\n      if (isAvailable) {\n        await API.updateRoute(this.state);\n      } else {\n        alert(\"Маршрут номер \" + this.state.number + \" вже існує!\");\n      }\n    } else {\n      alert(\"Номер маршруту має бути більшим від нуля!\");\n    }\n  }\n\n  reload() {}\n\n  addStop() {\n    let newStop = this.state.allStops[0].stop_name;\n    let oldStops = this.state.stops.concat(newStop);\n    let newTimetable = this.state.timeTable.concat([5.0]);\n    this.setState({\n      stops: oldStops,\n      timeTable: newTimetable\n    });\n  }\n\n  removeStop() {\n    let oldStops = this.state.stops;\n\n    if (oldStops.length > 0) {\n      oldStops.pop();\n      let newTimetable = this.state.timeTable;\n      newTimetable.pop();\n      this.setState({\n        stops: oldStops,\n        timeTable: newTimetable\n      });\n    }\n  }\n\n  async saveAndContinue() {\n    await this.saveChanges();\n    this.resetForm();\n  }\n\n  async saveAndExit() {\n    await this.saveChanges();\n    this.setState({\n      returnToEditor: true\n    });\n  }\n\n  render() {\n    if (this.state.returnToEditor) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: '/edit/routes'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {\n        fatherlink: '/edit/routes'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.MainFormContainer,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: styles.editForm,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Реєстрація нового маршруту\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 32\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 77\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u043C\\u0430\\u0440\\u0448\\u0440\\u0443\\u0442\\u0443: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: styles.wideFromInput,\n            value: this.state.number,\n            name: \"number\",\n            onChange: this.handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 52\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 181\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041F\\u043E\\u0447\\u0430\\u0442\\u043E\\u043A \\u0440\\u0443\\u0445\\u0443: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: styles.wideFromInput,\n            value: this.state.startTime,\n            name: \"startTime\",\n            onChange: this.handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 50\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 183\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041A\\u0456\\u043D\\u0435\\u0446\\u044C \\u0440\\u0443\\u0445\\u0443: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: styles.wideFromInput,\n            value: this.state.endTime,\n            name: \"endTime\",\n            onChange: this.handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 49\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 178\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0406\\u043D\\u0442\\u0435\\u0440\\u0432\\u0430\\u043B: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: styles.wideFromInput,\n            value: this.state.interval,\n            min: \"1\",\n            name: \"interval\",\n            onChange: this.handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 46\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 187\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0422\\u0438\\u043F \\u043C\\u0430\\u0440\\u0448\\u0440\\u0443\\u0442\\u0443: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"type\",\n            value: this.state.type,\n            onChange: this.handleInputChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u0422\\u0440\\u043E\\u043B\\u0435\\u0439\\u0431\\u0443\\u0441\",\n              children: \"\\u0422\\u0440\\u043E\\u043B\\u0435\\u0439\\u0431\\u0443\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u0410\\u0432\\u0442\\u043E\\u0431\\u0443\\u0441\",\n              children: \"\\u0410\\u0432\\u0442\\u043E\\u0431\\u0443\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u0422\\u0440\\u0430\\u043C\\u0432\\u0430\\u0439\",\n              children: \"\\u0422\\u0440\\u0430\\u043C\\u0432\\u0430\\u0439\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0421\\u0442\\u0430\\u043D\\u0446\\u0456\\u0457 \\u0442\\u0430 \\u0440\\u043E\\u0437\\u043A\\u043B\\u0430\\u0434 \\u0440\\u0443\\u0445\\u0443: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: this.displayStationsAndTT(this.state.stops, this.state.timeTable)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            onClick: this.addStop,\n            value: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            onClick: this.removeStop,\n            value: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            onClick: this.resetForm,\n            value: \"\\u0421\\u043A\\u0430\\u0441\\u0443\\u0432\\u0430\\u0442\\u0438 \\u0437\\u043C\\u0456\\u043D\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            onClick: this.saveAndContinue,\n            value: \"\\u0417\\u0431\\u0435\\u0440\\u0435\\u0433\\u0442\\u0438 \\u0442\\u0430 \\u0434\\u043E\\u0434\\u0430\\u0442\\u0438 \\u043D\\u0430\\u0441\\u0442\\u0443\\u043F\\u043D\\u0438\\u0439\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            onClick: this.saveAndExit,\n            value: \"\\u0417\\u0431\\u0435\\u0440\\u0435\\u0433\\u0442\\u0438 \\u0442\\u0430 \\u0432\\u0438\\u0439\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/sadoffnick/Desktop/University_Labs-782d16d9e93f5f21f9b7569cd8b73d90f641c7f6/semester_6/Object-oriented_programming/Labs/Lab_1/FRONT/src/pages/AddElement/AddRoute.js"],"names":["React","Link","Redirect","API","confirmAlert","TimeTableForm","NavBar","Loading","styles","AddRoute","Component","componentDidMount","isAdmin","then","result","setState","adminChecked","checkAdmin","render","state","AddRouteInternal","constructor","props","GetStops","stops","allStops","console","log","startTime","catch","error","oldId","number","endTime","interval","type","timeTable","handleInputChange","bind","addStop","removeStop","resetForm","saveAndContinue","saveAndExit","handleInputChangeArray","event","target","value","checked","name","id","parseInt","substring","resetValues","routes","stopsNames","tt","concat","Map","returnToEditor","getStops","makeStopChoosing","optionsList","forEach","stop","push","makeTTChoosing","displayStationsAndTT","list","i","length","saveChanges","isAvailable","checkAvailableRoute","updateRoute","alert","reload","newStop","stop_name","oldStops","newTimetable","pop","MainFormContainer","editForm","wideFromInput"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Link, Redirect} from \"react-router-dom\";\nimport * as API from \"../../API\";\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport TimeTableForm from \"../../components/additional-components/TimeTableForm\";\nimport NavBar from \"../../components/nav-bar\";\nimport Loading from \"../../components/loading\";\nimport styles from \"../../styles/General.module.css\";\n\nexport class AddRoute extends React.Component{\n    async isAdmin(){\n        return await API.checkAdmin()\n    }\n\n    componentDidMount = () => {\n        this.isAdmin().then(result => {\n            this.setState({\n                adminChecked: true,\n                isAdmin: result[\"isAdmin\"]\n            })\n        })\n    }\n\n    render() {\n        if (this.state === null || !this.state.adminChecked) {\n            return (\n                <Loading/>\n            );\n        } else if (!this.state.isAdmin) {\n            return (<Redirect to={'/'}/>)\n        } else {\n            return <AddRouteInternal/>\n        }\n    }\n}\n\nclass AddRouteInternal extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            oldId : 0,\n            number: 0,\n            startTime: \"06:00\",\n            endTime: \"23:30\",\n            interval: 10,\n            type: 'Тролейбус',\n            timeTable : [],\n            stops: [],\n        }\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.addStop = this.addStop.bind(this);\n        this.removeStop = this.removeStop.bind(this);\n        this.resetForm = this.resetForm.bind(this);\n        this.saveAndContinue = this.saveAndContinue.bind(this);\n        this.saveAndExit = this.saveAndExit.bind(this);\n        this.handleInputChangeArray = this.handleInputChangeArray.bind(this);\n    }\n\n    handleInputChange(event) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleInputChangeArray(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n        if(name[0] === 's'){\n            let stops = this.state.stops\n            let id = parseInt(name.substring(1))\n            stops[id] = value\n            this.setState({\n                stops: stops\n            });\n        }else{\n            let timeTable = this.state.timeTable\n            let id = parseInt(name.substring(1))\n            timeTable[id] = value\n            this.setState({\n                timeTable: timeTable\n            });\n        }\n\n    }\n\n    resetValues(routes){\n        let stopsNames = routes[0][\"stops\"]\n        let tt = [0].concat(routes[0][\"timetable\"])\n        this.setState({\n            startTime: \"06:00\",\n            endTime: \"23:30\",\n            interval: 10,\n            type: 'Тролейбус',\n            stops: new Map(),\n            timeTable: tt,\n            returnToEditor: false,\n        }, function () {\n            console.log(\"ST: \" + this.state.startTime)\n        })\n    }\n\n    componentDidMount = () => {\n\n        this.GetStops().then((stops) => {\n            this.setState({\n                allStops: stops\n            }, function () {\n                console.log(\"ST: \" + this.state.startTime)\n            })\n\n        }).catch((error) => {\n            console.log(error);\n        });\n    }\n\n\n    async GetStops() {\n        return await API.getStops()\n    }\n\n    makeStopChoosing(id){\n        let optionsList = []\n        this.state.allStops.forEach((stop) => {\n            if(stop['stop_name'] === this.state.stops[id]){\n                optionsList.push(<option selected value = {stop['stop_name']}>{stop['stop_name']}</option>)\n            } else {\n                optionsList.push(<option value = {stop['stop_name']}>{stop['stop_name']}</option>)\n            }\n\n        })\n        return (\n            <select onChange={this.handleInputChangeArray} name={\"s\" + id} value={this.state.stops[id]}>\n                {optionsList}\n            </select>\n        )\n    }\n\n    makeTTChoosing(id){\n\n        if(id === 0){\n            return (<input onChange={this.handleInputChangeArray} min=\"0\" max = \"0\" type=\"number\" name={\"t\" + id}\n                           value={this.state.timeTable[id]}/>)\n        } else {\n            return (<input onChange={this.handleInputChangeArray} min=\"0\" type=\"number\" name={\"t\" + id}\n                           value={this.state.timeTable[id]}/>)\n        }\n\n    }\n\n    displayStationsAndTT(stops, tt){\n        let list = []\n\n        for(let i = 0; i < stops.length; i++){\n            list.push(<li>{this.makeStopChoosing(i)} --- {this.makeTTChoosing(i)}</li>)\n        }\n        return list\n    }\n\n    resetForm(){\n        console.log(\"Reset...\")\n\n        this.setState({\n            oldId : 0,\n            number: 0,\n            startTime: \"06:00\",\n            endTime: \"23:30\",\n            interval: 10,\n            type: 'Тролейбус',\n            timeTable : [],\n            stops: [],\n        })\n\n    }\n\n    async saveChanges() {\n        let isAvailable = this.state.number > 0\n        if(isAvailable) {\n            isAvailable = await API.checkAvailableRoute(this.state.number)\n            if (isAvailable) {\n                await API.updateRoute(this.state);\n            } else {\n                alert(\"Маршрут номер \" + this.state.number + \" вже існує!\")\n            }\n        } else {\n            alert(\"Номер маршруту має бути більшим від нуля!\")\n        }\n    }\n\n    reload(){\n\n    }\n\n    addStop(){\n        let newStop = this.state.allStops[0].stop_name\n        let oldStops = this.state.stops.concat(newStop)\n        let newTimetable = this.state.timeTable.concat([5.0])\n        this.setState({\n            stops:oldStops,\n            timeTable:newTimetable\n        })\n    }\n\n    removeStop(){\n        let oldStops = this.state.stops\n        if(oldStops.length > 0){\n            oldStops.pop()\n            let newTimetable = this.state.timeTable\n            newTimetable.pop()\n            this.setState({\n                stops:oldStops,\n                timeTable:newTimetable\n            })\n        }\n    }\n\n    async saveAndContinue() {\n        await this.saveChanges()\n        this.resetForm()\n    }\n\n    async saveAndExit(){\n        await this.saveChanges()\n        this.setState(\n            {returnToEditor : true}\n        )\n\n    }\n\n    render(){\n        if(this.state.returnToEditor){\n            return (\n                <Redirect to={'/edit/routes'}/>\n            )\n        }\n        return (\n            <div>\n                <NavBar fatherlink={'/edit/routes'}/>\n\n                <div className={styles.MainFormContainer}>\n                    <form className={styles.editForm}>\n                        <label><b>{\"Реєстрація нового маршруту\"}</b></label><br/>\n                    <label>Номер маршруту: </label><input type=\"number\" className={styles.wideFromInput} value={this.state.number} name=\"number\" onChange={this.handleInputChange}/><br/>\n                    <label>Початок руху: </label><input type=\"text\" className={styles.wideFromInput} value={this.state.startTime} name=\"startTime\" onChange={this.handleInputChange}/><br/>\n                    <label>Кінець руху: </label><input type=\"text\" className={styles.wideFromInput} value={this.state.endTime} name=\"endTime\" onChange={this.handleInputChange}/><br/>\n                    <label>Інтервал: </label><input type=\"number\" className={styles.wideFromInput} value={this.state.interval} min=\"1\" name=\"interval\" onChange={this.handleInputChange}/><br/>\n                    <label>Тип маршруту: </label>\n                    <select name=\"type\" value={this.state.type} onChange={this.handleInputChange}>\n                        <option value=\"Тролейбус\">Тролейбус</option>\n                        <option value=\"Автобус\">Автобус</option>\n                        <option value=\"Трамвай\">Трамвай</option>\n                    </select>\n                    <br/>\n                    <label>Станції та розклад руху: </label>\n\n                    <ul>{this.displayStationsAndTT(this.state.stops, this.state.timeTable)}</ul>\n                    <input type=\"button\" onClick={this.addStop} value=\"+\"/>\n                    <input type=\"button\" onClick={this.removeStop} value=\"-\"/>\n                    <br/><br/>\n                    <input type=\"button\" onClick={this.resetForm} value=\"Скасувати зміни\"/>\n                    <input type=\"button\" onClick={this.saveAndContinue} value=\"Зберегти та додати наступний\"/>\n                    <input type=\"button\" onClick={this.saveAndExit} value=\"Зберегти та вийти\"/>\n                </form>\n                </div>\n            </div>\n\n        )\n\n\n    }\n\n\n}"]},"metadata":{},"sourceType":"module"}